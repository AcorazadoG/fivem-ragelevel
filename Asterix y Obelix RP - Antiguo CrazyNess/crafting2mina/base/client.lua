local inGUI = falselocal recipies = {   -- [2] = {id = 2, name = "Oz of Cocaine", amount = 9, requirements = "1 x Bar of Cocaine, 1 x Cooking Scales", rep = 0},    [1] = {id = 1, name = "Grams of Cocaine", amount = 1, requirements = "1 x Oz of Cocaine, 1 x Bundle of Baggies, 1 x Digital Scales", rep = 0},}function EnableGui(enable, chars)    SetNuiFocus(enable, enable)    guiEnabled = enable    inGUI = true    SendNUIMessage({type = "enableui",  enable = enable, characters = chars})end RegisterNetEvent("crafting2mina:loadrecipies")AddEventHandler("crafting2mina:loadrecipies", function() local html = '' local rep = DecorGetInt(GetPlayerPed(-1), "Reputation") --local faction = DecorGetInt(GetPlayerPed(-1), "Faction")  --xzzurv test it if rep < 0 then  rep = 0 end for id,v in pairs(recipies) do  if rep >= v.rep then   local char = string.format('<div class="character" id="%s"><p>%s<span class="date">Crafts: %s</span></p><p>%s</p></div>', v.id, v.name, v.amount, tostring(v.requirements))   html = html..char  end end EnableGui(true, html)end)-- NUI Callback EventsRegisterNUICallback('selectrecipe', function(data, cb)  EnableGui(false,false)  cb('ok')    TriggerEvent("mythic_progbar:client:progress", {        name = "crafting_item",        duration = 10000,        label = "Crafting item",        useWhileDead = false,        canCancel = false,        controlDisables = {            disableMovement = true,            disableCarMovement = true,            disableMouse = false,            disableCombat = true,        },    }, function(status)        if not status then          TriggerEvent('crafting2mina:trigger:'..data.id)          inGUI = false        end    end)end)RegisterNUICallback('escape', function(data, cb)  _GuiEnabled = false  SetNuiFocus(false, false)  SendNUIMessage({open = false})  inGUI = falseend)Citizen.CreateThread(function()  while true do   Wait(1)   if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -630.836,-229.787,38.057, true) < 0.5 and not inGUI then    DrawText3Ds(-630.836,-229.787,38.057)    if IsControlJustPressed(0, 38) then          --- cocaina     TriggerEvent('crafting2mina:loadrecipies')    end   end  endend)-- Citizen.CreateThread(function()  -- while true do   -- Wait(1)   -- if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 339.678, -1000.252, -99.196, true) < 0.5 and not inGUI then    -- DrawText3Ds(339.678, -1000.252, -99.196)    -- if IsControlJustPressed(0, 38) then  ---- nice house     -- TriggerEvent('crafting2mina:loadrecipies')    -- end   -- end  -- end-- end)-- Citizen.CreateThread(function()  -- while true do   -- Wait(1)   -- if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), -175.16, 489.88, 130.043, true) < 0.5 and not inGUI then    -- DrawText3Ds(-175.16, 489.88, 130.043)    -- if IsControlJustPressed(0, 38) then  ---- waterfall house     -- TriggerEvent('crafting2mina:loadrecipies')    -- end   -- end  -- end-- end) -- Citizen.CreateThread(function()  -- while true do   -- Wait(1)   -- if GetDistanceBetweenCoords(GetEntityCoords(GetPlayerPed(-1)), 262.808, -1002.750, -99.009, true) < 0.5 and not inGUI then    -- DrawText3Ds(262.808, -1002.750, -99.009)    -- if IsControlJustPressed(0, 38) then        --- ipl 3      -- TriggerEvent('crafting2mina:loadrecipies')    -- end   -- end  -- end-- end) function DrawText3Ds(x,y,z)	local text = "~y~[E]~w~ Crafting Table"    local onScreen,_x,_y=World3dToScreen2d(x,y,z)    local px,py,pz=table.unpack(GetGameplayCamCoords())    SetTextScale(0.35, 0.35)    SetTextFont(4)    SetTextProportional(1)    SetTextColour(255, 255, 255, 215)    SetTextEntry("STRING")    SetTextCentre(1)    AddTextComponentString(text)    DrawText(_x,_y)end